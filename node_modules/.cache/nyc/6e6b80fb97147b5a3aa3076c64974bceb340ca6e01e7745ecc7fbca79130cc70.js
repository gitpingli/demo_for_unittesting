'use strict';var cov_zytg9f3td=function(){var path="/home/pingli/workspace/repository/pccw/demo/sherpa-api/console-core-service-sherpa/app/controller/sonata/productOffering.js";var hash="06ee8ef871d0e6f3b33117e76a0da7f5f6ae1b42";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/pingli/workspace/repository/pccw/demo/sherpa-api/console-core-service-sherpa/app/controller/sonata/productOffering.js",statementMap:{"0":{start:{line:3,column:19},end:{line:3,column:44}},"1":{start:{line:4,column:10},end:{line:4,column:27}},"2":{start:{line:22,column:20},end:{line:22,column:24}},"3":{start:{line:24,column:18},end:{line:31,column:5}},"4":{start:{line:33,column:17},end:{line:33,column:69}},"5":{start:{line:35,column:18},end:{line:35,column:51}},"6":{start:{line:36,column:16},end:{line:36,column:38}},"7":{start:{line:38,column:4},end:{line:38,column:41}},"8":{start:{line:39,column:4},end:{line:39,column:42}},"9":{start:{line:40,column:4},end:{line:40,column:30}},"10":{start:{line:41,column:4},end:{line:41,column:38}},"11":{start:{line:43,column:4},end:{line:43,column:40}},"12":{start:{line:54,column:20},end:{line:54,column:24}},"13":{start:{line:55,column:19},end:{line:55,column:29}},"14":{start:{line:57,column:17},end:{line:57,column:66}},"15":{start:{line:58,column:4},end:{line:58,column:19}},"16":{start:{line:72,column:20},end:{line:72,column:24}},"17":{start:{line:74,column:18},end:{line:79,column:5}},"18":{start:{line:81,column:17},end:{line:83,column:5}},"19":{start:{line:85,column:18},end:{line:85,column:51}},"20":{start:{line:86,column:16},end:{line:86,column:38}},"21":{start:{line:88,column:4},end:{line:88,column:41}},"22":{start:{line:89,column:4},end:{line:89,column:42}},"23":{start:{line:90,column:4},end:{line:90,column:30}},"24":{start:{line:91,column:4},end:{line:91,column:38}},"25":{start:{line:93,column:4},end:{line:93,column:40}},"26":{start:{line:97,column:0},end:{line:97,column:42}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:21,column:2},end:{line:21,column:3}},loc:{start:{line:21,column:17},end:{line:44,column:3}},line:21},"1":{name:"(anonymous_1)",decl:{start:{line:53,column:2},end:{line:53,column:3}},loc:{start:{line:53,column:16},end:{line:59,column:3}},line:53},"2":{name:"(anonymous_2)",decl:{start:{line:71,column:2},end:{line:71,column:3}},loc:{start:{line:71,column:32},end:{line:94,column:3}},line:71}},branchMap:{"0":{loc:{start:{line:29,column:33},end:{line:29,column:71}},type:"cond-expr",locations:[{start:{line:29,column:51},end:{line:29,column:66}},{start:{line:29,column:69},end:{line:29,column:71}}],line:29},"1":{loc:{start:{line:30,column:29},end:{line:30,column:68}},type:"cond-expr",locations:[{start:{line:30,column:48},end:{line:30,column:64}},{start:{line:30,column:67},end:{line:30,column:68}}],line:30},"2":{loc:{start:{line:77,column:33},end:{line:77,column:71}},type:"cond-expr",locations:[{start:{line:77,column:51},end:{line:77,column:66}},{start:{line:77,column:69},end:{line:77,column:71}}],line:77},"3":{loc:{start:{line:78,column:29},end:{line:78,column:68}},type:"cond-expr",locations:[{start:{line:78,column:48},end:{line:78,column:64}},{start:{line:78,column:67},end:{line:78,column:68}}],line:78}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"06ee8ef871d0e6f3b33117e76a0da7f5f6ae1b42"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const Controller=(cov_zytg9f3td.s[0]++,require('egg').Controller);const _=(cov_zytg9f3td.s[1]++,require('lodash'));/**
 * @Controller productOffering
 */class ProductOfferingController extends Controller{/**
   * @Summary List productOfferings
   * @Router GET /mef/productOfferingManagement/v1/productOffering
   * @request query string provider
   * @request query string type
   * @request query boolean deleted
   * @request query integer offset (N-1)*limit, 1 means 0 offset, 2 means 1*limit offset
   * @request query integer limit defualt:10
   * @Response 200  OK
   * @Response 500 error Unknown internal server error
   */async index(){cov_zytg9f3td.f[0]++;const{ctx}=(cov_zytg9f3td.s[2]++,this);const query=(cov_zytg9f3td.s[3]++,{provider:ctx.query.provider,type:ctx.query.type,deleted:ctx.query.deleted,// cpq uses page and pagesize
pageSize:ctx.helper.toInt(ctx.query.limit?(cov_zytg9f3td.b[0][0]++,ctx.query.limit):(cov_zytg9f3td.b[0][1]++,10)),page:ctx.helper.toInt(ctx.query.offset?(cov_zytg9f3td.b[1][0]++,ctx.query.offset):(cov_zytg9f3td.b[1][1]++,1))});const data=(cov_zytg9f3td.s[4]++,await ctx.service.sonata.productOffering.list(query));const start=(cov_zytg9f3td.s[5]++,(query.page-1)*query.pageSize);const end=(cov_zytg9f3td.s[6]++,start+query.pageSize);cov_zytg9f3td.s[7]++;ctx.set('X-Total-Count',data.length);cov_zytg9f3td.s[8]++;ctx.set('X-Result-Count',data.length);cov_zytg9f3td.s[9]++;ctx.set('X-Offset',start);cov_zytg9f3td.s[10]++;ctx.set('X-Limit',query.pageSize);cov_zytg9f3td.s[11]++;ctx.body=_.slice(data,start,end);}/**
   * @Summary Get a productOffering by id
   * @Router GET /mef/productOfferingManagement/v1/productOffering/{id}
   * @Request path string *id
   * @Response 200  OK
   * @Response 500 error Unknown internal server error
   */async show(){cov_zytg9f3td.f[1]++;const{ctx}=(cov_zytg9f3td.s[12]++,this);const{id}=(cov_zytg9f3td.s[13]++,ctx.params);const data=(cov_zytg9f3td.s[14]++,await ctx.service.sonata.productOffering.show(id));cov_zytg9f3td.s[15]++;ctx.body=data;}/**
   * @Summary Get providers of productOfferings
   * @Router GET /mef/productOfferingManagement/v1/providers
   * @request query string code
   * @request query boolean deleted
   * @request query integer offset (N-1)*limit, 1 means 0 offset, 2 means 1*limit offset
   * @request query integer limit defualt:10
   * @Response 200  OK
   * @Response 500 error Unknown internal server error
   */async getOfferingProviders(){cov_zytg9f3td.f[2]++;const{ctx}=(cov_zytg9f3td.s[16]++,this);const query=(cov_zytg9f3td.s[17]++,{code:ctx.query.code,deleted:ctx.query.deleted,pageSize:ctx.helper.toInt(ctx.query.limit?(cov_zytg9f3td.b[2][0]++,ctx.query.limit):(cov_zytg9f3td.b[2][1]++,10)),page:ctx.helper.toInt(ctx.query.offset?(cov_zytg9f3td.b[3][0]++,ctx.query.offset):(cov_zytg9f3td.b[3][1]++,1))});const data=(cov_zytg9f3td.s[18]++,await ctx.service.sonata.productOffering.getOfferingProviders(query));const start=(cov_zytg9f3td.s[19]++,(query.page-1)*query.pageSize);const end=(cov_zytg9f3td.s[20]++,start+query.pageSize);cov_zytg9f3td.s[21]++;ctx.set('X-Total-Count',data.length);cov_zytg9f3td.s[22]++;ctx.set('X-Result-Count',data.length);cov_zytg9f3td.s[23]++;ctx.set('X-Offset',start);cov_zytg9f3td.s[24]++;ctx.set('X-Limit',query.pageSize);cov_zytg9f3td.s[25]++;ctx.body=_.slice(data,start,end);}}cov_zytg9f3td.s[26]++;module.exports=ProductOfferingController;